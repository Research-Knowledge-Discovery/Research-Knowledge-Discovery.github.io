<div class="filters" style="display: flex;">
    {% assign all_tags = "" %}
    {% assign all_names = "" %}
    {% for project in site.projects %}
        {% for category in project.research-areas %}
            {% assign all_tags = all_tags | append: category.tag | append: ";" %}
            {% assign all_names = all_names | append: category.name | append: ";" %}
        {% endfor %}
    {% endfor %}
    {% assign all_tags = all_tags | split: ";" %}
    {% assign all_names = all_names | split: ";" %}
    {% assign all_tags = all_tags | uniq %}
    {% assign all_names = all_names | uniq %}
    {% if site.data.tags %}
    {% for area in site.data.tags.research-areas %}
        <div class="field">
            <div>
                <input type="checkbox" class="filter" id="{{ area.tag }}" checked/>
                <label for="{{ area.tag }}">{{ area.name }}</label>
            </div>
            <select>
                <option disabled value="" selected hidde>Filter by topic...</option>
            {% for topic in area.topics %}
                <option value="{{ topic.tag }}">{{ topic.name }}</option>
            {% endfor %}
            </select>
        </div>
    {% endfor %}
    {% endif %}
</div>